---
title: "Overview"
description: "You can self-host Langtrace to monitor your applications. This guide will help you set up Langtrace on your own infrastructure."
---

### Self-hosting Langtrace

To run the Langtrace locally, you have to run three services:

- Next.js app
- Postgres database
- Clickhouse database

#### Requirements:

1. Docker is installed and running on your system. You can verify this by running:
   `docker info`
2. Docker Compose
   Docker Compose is installed on your system. You can verify this by running:
   `docker-compose --version`

#### Step 1: Clone the repository

Fetch the docker-compose.yml file
You can find the docker-compose.yml file and related files in the langtrace repository on [GitHub](https://github.com/Scale3-Labs/langtrace)

#### Step 2: Configure environment variables

Modify the `.env` file to suit your needs.

#### Starting the servers

```bash Bash
docker compose up
```

The application will be available at http://localhost:3000.

<Note>
  if you wish to build the docker image locally and use it, run the `docker
  compose up` command with the `--build` flag.
</Note>

To manually pull the docker image from docker hub, run the following command:

```bash Bash
docker pull scale3labs/langtrace-client:latest
```

#### Take down the setup

To delete containers and volumes

```bash Bash
docker compose down -v
```

`-v` flag is used to delete volumes

#### Useful Ops Commands

The following are some commands that may come handy during setup and debugging.

<Expandable>
  Connecting to postgres db ```bash docker exec -it langtrace-postgres psql
  --dbname=langtrace --username=ltuser --password ```
</Expandable>

<details>
  <summary>Connecting to clickhouse server</summary>
  ```bash docker exec -it langtrace-clickhouse clickhouse-client ```
</details>

<details>
  <summary>Checking langtrace client app logs</summary>
  ```bash docker logs langtrace ``` If you want to follow the logs ```bash docker
  logs -f langtrace ```
</details>

<details>
  <summary>Running prisma schema apply command</summary>
  ```bash docker exec -it langtrace npm run create-tables ```
</details>

#### Common issues for local setup

<details>
  <summary>Table not found error OR Column not found error</summary>
  Its likely that schema is not applied to the database or the schema is not in sync
  with the database. To fix this, run the following command: ```bash docker exec
  -it langtrace npm run create-tables ```
</details>

<details>
  <summary>Prisma schema not in sync with database</summary>
  If you have made changes to the prisma schema and want to apply the changes to
  the database, run the following command: ```bash docker exec -it langtrace npm
  run create-tables ```
</details>

<details>
  <summary>Docker compose failing to setup with `Additional property required is not allowed` errors</summary>
  Its likely that you are using an older version of docker-compose. Update docker-compose to the latest version.
  
  Certain docker compose schema used in this project are only supported in newer versions of docker-compose.

Either you **update the docker compose version** OR **remove the depends_on property** that is causing the error.

</details>

<details>
  <summary>Clickhouse server not starting</summary>
  If clickhouse server is not starting, it is likely that the port 8123 is already
  in use. You can change the port in the docker-compose file.
</details>

Install the langtrace SDK in your application by following the same instructions under the Langtrace Cloud section above for sending traces to your self hosted setup.

---
